# 🔄 Как это работает

## 📊 Схема работы

```
┌─────────────┐         ┌──────────────┐         ┌─────────────┐
│   Лаунчер   │────────▶│    Сервер    │────────▶│   Файлы     │
│  (клиент)   │         │  (Railway)   │         │  (хранилище)│
└─────────────┘         └──────────────┘         └─────────────┘
     │                          │                          │
     │  1. Проверка обновлений  │                          │
     │─────────────────────────▶│                          │
     │                          │                          │
     │  2. Список версий         │                          │
     │◀─────────────────────────│                          │
     │                          │                          │
     │  3. Скачать файл          │                          │
     │─────────────────────────▶│─────────────────────────▶│
     │                          │                          │
     │  4. Файл скачан           │                          │
     │◀─────────────────────────│◀─────────────────────────│
     │                          │                          │
     │  5. Запуск чита           │                          │
     │                          │                          │
```

## 📝 Пошаговый процесс

### 1️⃣ Пользователь запускает лаунчер

```
Лаунчер → Проверяет версию локального чита
```

### 2️⃣ Лаунчер спрашивает сервер

```
GET https://your-server.railway.app/api/check-update?game=cs2&type=external&currentVersion=v1.0.0
```

**Ответ сервера:**
```json
{
  "updateAvailable": true,
  "latestVersion": "v1.1.0",
  "downloadUrl": "/files/cs2/external/v1.1.0/"
}
```

### 3️⃣ Лаунчер скачивает новую версию

```
GET https://your-server.railway.app/files/cs2/external/v1.1.0/externa.exe
```

### 4️⃣ Лаунчер запускает обновленный чит

```
Лаунчер → Запускает externa.exe
```

---

## 💾 Что хранится на сервере?

**НЕ образы дисков!** Хранятся:

- ✅ Исполняемые файлы (`.exe`, `.dll`)
- ✅ Манифесты с версиями
- ✅ Метаданные (описание, дата загрузки)

**Пример структуры:**
```
files/
├── cs2/
│   ├── external/
│   │   ├── v1.0.0/
│   │   │   ├── externa.exe          ← 5-10 MB
│   │   │   └── manifest.json         ← 1 KB
│   │   └── v1.1.0/
│   │       ├── externa.exe          ← новая версия
│   │       └── manifest.json
│   └── internal/
│       └── v1.0.0/
│           ├── hv_internal.dll      ← 2-5 MB
│           ├── hv_injector.exe      ← 1-2 MB
│           └── manifest.json
└── dayz/
    └── external/
        └── v1.0.0/
            └── dayz_cheat.exe
```

**Общий размер:** ~50-200 MB для всех игр и версий

---

## 🔄 Процесс обновления

### Когда ты загружаешь новую версию:

1. **Собираешь чит** (через GitHub Actions или локально)
2. **Загружаешь на сервер:**
   ```bash
   curl -X POST https://your-server/api/upload \
     -F "game=cs2" \
     -F "type=external" \
     -F "version=v1.1.0" \
     -F "files=@externa.exe"
   ```
3. **Сервер сохраняет:**
   - Файл в `files/cs2/external/v1.1.0/externa.exe`
   - Манифест с метаданными

### Когда пользователь запускает лаунчер:

1. **Лаунчер проверяет:** "Есть ли новая версия?"
2. **Сервер отвечает:** "Да, v1.1.0 доступна"
3. **Лаунчер скачивает:** Новый `externa.exe`
4. **Лаунчер запускает:** Обновленный чит

---

## 🎯 Преимущества

✅ **Централизованное хранение** - все версии в одном месте  
✅ **Автоматические обновления** - лаунчер сам проверяет  
✅ **Версионирование** - можно откатиться на старую версию  
✅ **Мульти-игры** - один сервер для всех игр  
✅ **Бесплатно** - Railway/Render дают бесплатный tier  

---

## ❓ FAQ

**Q: Нужно ли арендовать сервер?**  
A: Нет! Можно использовать бесплатные Railway/Render

**Q: Сколько места нужно?**  
A: ~100-500 MB для всех версий

**Q: Что если сервер упадет?**  
A: Railway/Render автоматически перезапускают

**Q: Безопасно ли хранить читы публично?**  
A: Да, это просто файлы. Можно добавить аутентификацию

**Q: Можно ли использовать свой домен?**  
A: Да, Railway/Render поддерживают кастомные домены

